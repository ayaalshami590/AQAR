<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>عقار</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background-color: #f9f9f9; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow-x: hidden; }
    .navbar { background-color: #0b2f51 !important; }
    .navbar-brand img { height: 50px; object-fit: contain; margin-right: 8px; }
    .menu-icon, .navbar .bi { color: #ffffff; font-size: 1.8rem; cursor: pointer; }
    .profile-img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid #ffffff; }
    
    .sidebar {
      position: fixed; top: 0; bottom: 0; width: 260px;
      background: linear-gradient(135deg, #0b2f51, #183d5d); color: #fff;
      padding: 20px; transition: transform 0.3s ease-in-out; z-index: 1050; overflow-y: auto;
    }
    .sidebar.left { left: 0; transform: translateX(-100%); border-radius: 0 10px 10px 0; }
    .sidebar.right { right: 0; transform: translateX(100%); border-radius: 10px 0 0 10px; }
    .sidebar.active { transform: translateX(0); }
    .sidebar a { color: #fff; text-decoration: none; font-weight: bold; padding: 10px; display: block; border-radius: 8px; transition: all 0.3s; }
    .sidebar a:hover { background: rgba(255, 255, 255, 0.2); padding-right: 15px; }
    
    .overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.4); z-index: 1040; display: none;
    }
    .overlay.active { display: block; }
    
    .main-header {
      margin-top: 80px; padding: 100px 20px; text-align: center; color: #fff;
      background: linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
        url('https://images.unsplash.com/photo-1570129477492-45c003edd2be?auto=format&fit=crop&w=1600&q=80') center/cover no-repeat;
      background-size: 110%;
    }
    .main-header h1 { font-size: 2.8rem; font-weight: 900; letter-spacing: 1px; }
    
    .property-card {
      width: 320px; background-color: rgba(255, 255, 255, 0.95); border-radius: 15px;
      overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); transition: transform 0.3s;
      flex-shrink: 0; margin: 0 10px;
    }
    .property-card:hover { transform: scale(1.03); }
    .property-card img { width: 100%; height: 180px; object-fit: cover; }
    .property-info { padding: 1rem; }
    .property-info .label { font-weight: bold; color: #333; }
    .property-actions { display: flex; justify-content: flex-end; padding: 0 1rem 1rem; }
    .favorite-btn { color: #6c757d; font-size: 1.4rem; cursor: pointer; transition: color 0.3s; }
    .favorite-btn.active { color: #dc3545; }
    
    .posts-wrapper { position: relative; padding: 2rem 0; }
    .posts-container {
      display: flex; overflow-x: auto; gap: 1rem; padding: 1rem 3rem;
      max-width: 90vw; margin: 0 auto; scroll-behavior: smooth;
      align-items: center;
    }
    .posts-container::-webkit-scrollbar { display: none; }
    
    .view-more-container {
      display: flex; 
      align-items: center;
      min-width: auto;
      padding: 0 20px;
    }
    
    .fixed-btn {
      position: fixed; bottom: 30px; z-index: 1000;
      padding: 12px 25px; font-weight: bold;
    }
    .fixed-btn.right { right: 30px; }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid d-flex justify-content-between align-items-center px-3">
      <a href="#" id="menuDropdown"><i class="bi bi-list menu-icon"></i></a>
      <a class="navbar-brand mx-auto d-flex align-items-center" href="#">
        <span style="font-weight: 900; font-size: 1.5rem;">عقار</span>
        <img src="logo.png" alt="الشعار">
      </a>
      <a href="#" id="profileDropdown">
        <img src="https://i.pravatar.cc/150?img=32" alt="Profile" class="profile-img">
      </a>
    </div>
  </nav>

  <div class="main-header">
    <h1>AQAR</h1>
    <h1>اهلا وسهلا في موقعنا</h1>
    <br><br>
    <a href="#" class="btn btn-primary btn-lg explore-btn">ابحث عن عقارك</a>
  </div>

  <div class="section-title text-center mt-5">
    <h2 class="fw-bold mb-4">المنشورات</h2>
  </div>

  <div class="posts-wrapper" style="display:flex">
    <div class="posts-container" id="postsContainer">
      
    </div>
  </div>
<div style="padding: 10px 100px 10px 10px;">
  <a href="#" class=" btn btn-primary right" >
    <i class="bi bi-megaphone me-2"></i> أعلن عن عقارك
  </a>
  <br>
  <br>
  <div style="display: flex;">
  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-telephone-plus" viewBox="0 0 16 16">
  <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/>
  <path fill-rule="evenodd" d="M12.5 1a.5.5 0 0 1 .5.5V3h1.5a.5.5 0 0 1 0 1H13v1.5a.5.5 0 0 1-1 0V4h-1.5a.5.5 0 0 1 0-1H12V1.5a.5.5 0 0 1 .5-.5"/>
</svg>
<p>0934567891</p>
</div>
<div></div>



  <div id="leftSidebar" class="sidebar right">
    <ul class="list-unstyled">
      <li><a href="http://localhost/AQAR/frontend/login.html"><i class="bi bi-box-arrow-in-left me-2"></i>تسجيل دخول</a></li>
      <li><a href="#"><i class="bi bi-box-arrow-right me-2"></i>تسجيل خروج</a></li>
      <li><a href="#"><i class="bi bi-telephone me-2"></i>اتصل بنا</a></li>
    </ul>
  </div>

  <div id="rightSidebar" class="sidebar left">
    <img src="https://i.pravatar.cc/300?img=32" alt="صورة البروفايل" class="img-fluid rounded mb-3">
    <ul class="list-unstyled">
      <li><a href="#"><i class="bi bi-person me-2"></i>اسم المستخدم</a></li>
      <li><a href="#"><i class="bi bi-gear me-2"></i>الحساب</a></li>
      <li><a href="#"><i class="bi bi-file-post me-2"></i>منشوراتي</a></li>
      <li><a href="#"><i class="bi bi-heart me-2"></i>المفضلة</a></li>
     
    </ul>
  </div>

  <div id="overlay" class="overlay"></div>

  <script>
    const leftSidebar = document.getElementById('leftSidebar');
    const rightSidebar = document.getElementById('rightSidebar');
    const overlay = document.getElementById('overlay');

    document.getElementById('menuDropdown').addEventListener('click', (e) => {
      e.preventDefault();
      toggleSidebar(leftSidebar);
    });

    document.getElementById('profileDropdown').addEventListener('click', (e) => {
      e.preventDefault();
      toggleSidebar(rightSidebar);
    });

    overlay.addEventListener('click', closeAllSidebars);

    function toggleSidebar(sidebar) {
      const isActive = sidebar.classList.contains('active');
      closeAllSidebars();
      if (!isActive) {
        sidebar.classList.add('active');
        overlay.classList.add('active');
      }
    }

    function closeAllSidebars() {
      leftSidebar.classList.remove('active');
      rightSidebar.classList.remove('active');
      overlay.classList.remove('active');
    }

    document.querySelectorAll('.favorite-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.classList.toggle('active');
      });
    });
    </script>
    <script>

    fetch("http://localhost/AQAR/backend/view_property.php")
    .then(response =>  response.json())
    .then(data => {
        const container = document.getElementById("postsContainer");
        
            data.forEach(property => { 
                container.innerHTML += `
                <div class="property-card">
                    <img src="${property.photo_url}" alt="عقار">
                    <div class="property-info">
                        <p><span class="label">المساحة:</span> ${property.size}م²</p>
                        <p><span class="label">الموقع:</span> ${property.city},${property.area}</p>
                    </div>
                    <div class="property-actions">
                        <i class="bi bi-heart favorite-btn"></i>
                    </div>
                </div>
                
                `;
            }) 
            ;
            container.innerHTML += `
            <div class="view-more-container" style="flex-grow: 1; display: flex; justify-content: center; align-items: center;">
                <a href="http://localhost/AQAR/frontend/categories.html" class="btn btn-primary" >
                    <i class="bi bi-arrow-left-circle me-2"></i> عرض المزيد
                </a>
            </div>`
        } 
    )
    .catch(error => {
        console.error('حدث خطأ أثناء جلب البيانات:', error);
        const container = document.getElementById("postsContainer");
        container.innerHTML = `<p>حدث خطأ أثناء تحميل العقارات: ${error.message}</p>`;
    });

</script>
</body>
</html>